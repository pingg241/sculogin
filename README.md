# [四川大学教务系统自动化工具](https://github.com/pingg241/sculogin)

## 简介

本工具用于自动化访问四川大学教务系统，实现课表查询、成绩查询、学籍信息、方案修读、空闲教室、可信证明下载等功能。支持自动保存和加载登录 cookies，避免频繁输入验证码。

## 环境

-   Python >=3.7
-   依赖见 `requirements.txt`

## 安装依赖

```bash
pip install -r requirements.txt
```

## 使用方法

### 1. 首次运行

-   运行 `sculogin.py`，会自动检测当前目录下是否有 `cookies.json` 文件。
-   如果没有，会提示输入学号和密码，并自动登录（需输入验证码）。
-   登录成功后自动保存 cookies 到 `cookies.json`，下次启动自动复用，无需再次输入验证码。

### 2. 后续运行

-   如果 `cookies.json` 存在且未过期，程序会自动登录，无需输入验证码。
-   如果 cookies 过期，会自动提示重新登录。

### 3. 功能菜单

启动后，输入对应编号选择功能：

| 编号 | 功能                 |
| ---- | -------------------- |
| 0    | 登录教务系统         |
| 1    | 课表查询             |
| 2    | 评教                 |
| 3    | 学籍查询             |
| 4    | 方案修读查询         |
| 5    | 成绩查询             |
| 6    | 空闲教室             |
| 7    | 可信证明下载         |
| 8    | 刷新（检测登录状态） |
| 9    | 考试安排             |
| q    | 退出程序             |

> **注意：首次使用必须先输入 0 登录，后续可直接选择其他功能。**

## 文件说明

-   `sculogin.py`：主程序文件
-   `cookies.json`：自动保存的登录 cookies
-   `学号密码.txt`：保存学号和密码（仅本地使用）

## 常见问题

-   **验证码识别失败**：请确保输入验证码时区分大小写。
-   **cookies 过期**：如遇自动登录失败，请重新输入验证码登录。
-   **依赖缺失**：请确保已正确安装 requirements.txt 中所有库。

## 联系作者

如有问题或建议，请于[仓库](https://github.com/pingg241/sculogin)提 ISSUE 或者 PR。

## 免责声明

本工具仅供学习交流使用，请勿用于任何违反学校规定的用途。使用过程中产生的任何后果由用户自行承担。

## 示例命令

```bash
python sculogin.py
```
